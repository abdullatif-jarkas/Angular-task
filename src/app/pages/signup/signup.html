<div class="flex h-screen">
  <div
    class="w-1/2 bg-gradient-to-b from-[#79D7BE] to-[#2E5077] text-white flex flex-col justify-between p-10"
  >
    <div>
      <h1 class="text-5xl font-bold leading-snug">
        Start Your <br />
        Journey <br />
        with Us
      </h1>
    </div>
    <div class="flex items-center gap-3 text-sm opacity-80">
      <img src="shared-logo.png" alt="logo" />
      <p>Share your thoughts, explore new ideas, and connect through blogs.</p>
    </div>
  </div>

  <div class="w-1/2 flex items-center justify-center">
    <div class="w-3/4 max-w-md">
      <h2 class="text-2xl font-bold mb-2">Create an Account</h2>
      <p class="text-gray-500 mb-6">
        Already have an account?
        <a routerLink="/auth/login" class="text-primary">Sign in</a>
      </p>

      <form (ngSubmit)="onSignup(signupForm)" #signupForm="ngForm">

        <!-- Name -->
        <div class="mb-4">
          <label class="block text-sm mb-1">Name</label>
          <div
            class="flex items-center rounded px-3 border"
            [ngClass]="
              nameCtrl.invalid && (nameCtrl.dirty || nameCtrl.touched)
                ? 'border-red-500'
                : 'border-gray-300'
            "
          >
            <i class="fa-regular fa-user text-gray-400"></i>
            <input
              type="text"
              [(ngModel)]="name"
              name="name"
              required
              minlength="3"
              placeholder="Your Name"
              #nameCtrl="ngModel"
              class="w-full p-2 outline-none placeholder:text-gray-400 font-thin"
            />
          </div>
          @if (nameCtrl.invalid && (nameCtrl.dirty || nameCtrl.touched)) {
          <p class="text-red-500 text-sm mt-1">
            @if (nameCtrl.errors?.['required']) {
              <span>Name is required.</span>
            } @if (nameCtrl.errors?.['minlength']) {
              <span>Name must be at least 3 characters.</span>
            }
          </p>
          }
        </div>

        <!-- Email -->
        <div class="mb-4">
          <label class="block text-sm mb-1">Email</label>
          <div
            class="flex items-center rounded px-3 border"
            [ngClass]="
              emailCtrl.invalid && (emailCtrl.dirty || emailCtrl.touched)
                ? 'border-red-500'
                : 'border-gray-300'
            "
          >
            <i class="fa-regular fa-envelope text-gray-400"></i>
            <input
              type="email"
              [(ngModel)]="email"
              name="email"
              required
              email
              placeholder="shared@gmail.com"
              #emailCtrl="ngModel"
              class="w-full p-2 outline-none placeholder:text-gray-400 font-thin"
            />
          </div>
          @if (emailCtrl.invalid && (emailCtrl.dirty || emailCtrl.touched)) {
          <p class="text-red-500 text-sm mt-1">
            @if (emailCtrl.errors?.['required']) {
              <span>Email is required.</span>
            } @if (emailCtrl.errors?.['email']) {
              <span>Invalid email format.</span>
            }
          </p>
          }
        </div>

        <div class="mb-6">
          <label class="block text-sm mb-1">Password</label>
          <div
            class="flex items-center rounded px-3 border"
            [ngClass]="
              passwordCtrl.invalid &&
              (passwordCtrl.dirty || passwordCtrl.touched)
                ? 'border-red-500'
                : 'border-gray-300'
            "
          >
            <i class="fa-solid fa-lock text-gray-400"></i>
            <input
              type="password"
              [(ngModel)]="password"
              name="password"
              required
              minlength="8"
              placeholder="Enter a password"
              #passwordCtrl="ngModel"
              class="w-full p-2 outline-none placeholder:text-gray-400 font-thin"
            />
            <i class="fa-regular fa-eye text-gray-400 cursor-pointer"></i>
          </div>
          @if (passwordCtrl.invalid && (passwordCtrl.dirty || passwordCtrl.touched)) {
          <p class="text-red-500 text-sm mt-1">
            @if (passwordCtrl.errors?.['required']) {
              <span>Password is required.</span>
            } @if (passwordCtrl.errors?.['minlength']) {
              <span>Password must be at least 8 characters.</span>
            }
          </p>
          }
        </div>

        <button
          type="submit"
          [disabled]="signupForm.invalid"
          class="w-full bg-primary text-white py-2 rounded hover:bg-secondary transition disabled:opacity-50 disabled:cursor-not-allowed"
        >
          Sign up
        </button>
      </form>
    </div>
  </div>
</div>
