<div class="flex flex-col justify-between" [ngClass]="{ 'flex-row': recentRight }">
  <div [ngClass]="{ 'w-1/3': recentRight }">
    <img src="/images/article.png" alt="article image" class="w-full mb-8">
    <div class="post-info relative flex justify-between items-center">
      <p class="text-[#6941c6] fontsemibold text-sm mb-3">Alec Whitten â€¢ 1 Jan 2023</p>
      <img src="icons/menu-vertical.png" (click)="toggleMenu()" class="w-[30px] cursor-pointer hover:rotate-90 transition" alt="arrow">
      @if(menuOpen()){
        <div class="absolute p-2 right-0 top-3/4 mt-2 w-32 bg-white rounded-xl shadow-2xl z-50">
          <button class="w-full text-left px-4 py-2 rounded-t border-b border-b-gray-300 hover:bg-gray-100" (click)="openEditPopup()">Edit</button>
          <button class="w-full text-left px-4 py-2 rounded-b hover:bg-gray-100" (click)="deletePost()">Delete</button>
        </div>
      }
    </div>
    <div class="flex justify-between items-center mb-3">
      <h3 class="font-semibold text-2xl">
        {{ post.title }}
      </h3>
      <a [routerLink]="['/posts', post.id]" class="shrink-0 self-start">
        <img src="icons/up-right-arrow.png" class="w-[30px] hover:rotate-45 transition" alt="arrow">
      </a>
    </div>
  </div>
  <div [ngClass]="{ 'w-2/3 pl-3': recentRight }">
    <p class="text-[#667085] text-base mb-6">{{ post.body }}</p>
    <div class="badges">
      <span class="mr-2 px-2.5 text-[#6941C6] bg-[#F9F5FF] rounded-2xl py-0.5 text-sm font-medium">Leadership</span>
      <span class="mr-2 px-2.5 text-[#C11574] bg-[#FDF2FA] rounded-2xl py-0.5 text-sm font-medium">Leadership</span>
    </div>
  </div>

  @if(editPopupOpen()){
    <div class="fixed inset-0 flex items-center justify-center bg-black/30 z-50">
      <div class="bg-white rounded-xl w-[400px] p-6 shadow-lg">
        <h2 class="text-xl font-bold mb-4">Edit Post</h2>
        <form (ngSubmit)="submitEdit($event)" class="flex flex-col gap-3">
          <input type="text" name="title" class="border p-2 rounded" placeholder="Post title" [(ngModel)]="editTitle">
          <textarea name="body" class="border p-2 rounded" placeholder="Post body" rows="4" [(ngModel)]="editBody"></textarea>
          <div class="flex justify-end gap-2 mt-2">
            <button type="button" class="px-4 py-2 bg-gray-200 rounded" (click)="closeEditPopup()">Cancel</button>
            <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded">Save</button>
          </div>
        </form>
      </div>
    </div>
  }
</div>
